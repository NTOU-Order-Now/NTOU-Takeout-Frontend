const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ConfirmDialog-CZr2h_v-.js","assets/index-CazEC9O8.js","assets/index-QHSbNduV.css","assets/button-BGi7Oxf2.js","assets/dialog-SUiApyGq.js","assets/index-DqDow_46.js","assets/orderStore-C2lX-GL2.js","assets/AcceptedList-CxIjWZdP.js","assets/useMutation-BafpkvH0.js","assets/skeleton-KxDmBhq9.js"])))=>i.map(i=>d[i]);
import{r as i,_ as v,d as y,j as e,P as t}from"./index-CazEC9O8.js";import{u as D}from"./orderStore-C2lX-GL2.js";import{S as r}from"./skeleton-KxDmBhq9.js";const c=i.lazy(()=>v(()=>import("./ConfirmDialog-CZr2h_v-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),T=({order:s,showStatus:o=!0,pageId:n})=>{const d=D(a=>a.setOrderData),m=(a,x)=>{const l=new Date,[h,f,b]=a.split(":"),[g,j]=b.split("."),N=new Date(l.getFullYear(),l.getMonth(),l.getDate(),parseInt(h),parseInt(f),parseInt(g),parseInt(j)),w=new Date(N.getTime()+x*60*1e3);return new Date>w},p=y(),u=a=>{a.preventDefault(),d(s),p(`/store/pos/management/order/${s.id.slice(-5)}`)};return e.jsxs("div",{className:"relative flex justify-between  rounded-lg p-4 shadow-lg mb-6 bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col items-start text-start ",children:[e.jsxs("div",{className:"flex flex-col max-w-[200px]",children:[e.jsxs("p",{className:"text-xl font-bold break-words",children:["單號： ",s.id.slice(-5)]}),e.jsxs("p",{className:"text-sm font-semibold break-words",children:["預估製作時間: ",s.estimatedPrepTime," 分鐘"]}),e.jsxs("p",{className:"text-sm font-medium break-words",children:["下單時間: ",s.orderTime]})]}),e.jsx("button",{className:"bg-orange-500 mt-6 text-white px-3 py-1 text-sm font-bold rounded hover:bg-orange-600 whitespace-nowrap",onClick:u,children:"訂單內容"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[o&&s.status!=="PENDING"&&e.jsxs("div",{className:"flex items-center mb-2",children:[m(s.orderTime,s.estimatedPrepTime)&&s.status==="PROCESSING"&&e.jsx("span",{className:"text-red-500 text-sm ml-2 font-bold pr-2",children:"超時"}),e.jsx(i.Suspense,{fallback:e.jsx(r,{className:"px-3 py-1 rounded bg-gray-300 opacity-5 w-full h-6"}),children:e.jsx(c,{order:s,status:s.status,pageId:n})})]}),s.status==="PENDING"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i.Suspense,{fallback:e.jsx(r,{className:"px-3 py-1 rounded bg-red-500 opacity-5 w-full h-6"}),children:e.jsx(c,{order:s,status:"REJECT",pageId:n})}),e.jsx(i.Suspense,{fallback:e.jsx(r,{className:"px-3 py-1 rounded bg-green-500 opacity-5 w-12 h-6"}),children:e.jsx(c,{order:s,status:"ACCEPT",pageId:n})})]})]}),e.jsx("div",{className:"absolute bottom-4 right-4 mt-5",children:e.jsxs("p",{className:"mt-2 font-semibold",children:["總金額: ",s.cost," 元"]})})]})};T.propTypes={order:t.shape({id:t.string.isRequired,status:t.string.isRequired,cost:t.number.isRequired,orderTime:t.string.isRequired,estimatedPrepTime:t.number.isRequired}).isRequired,onAccept:t.func,onReject:t.func,onStatusChange:t.func,showStatus:t.bool,pageId:t.number.isRequired};export{T as default};

import{c as j,E as N,F as E,j as e}from"./index-CLSTvJUF.js";import g from"./OrderCard-C2eXWqNz.js";import{P as C,C as h}from"./AcceptedList-DQvLWGfl.js";import"./orderStore-CkgLTvP5.js";import"./skeleton-DFQqrOiN.js";import"./useMutation-CPuWTMdd.js";const D=()=>{const{userInfo:a}=j(),c=a==null?void 0:a.role,{orders:i,isLoading:x,isError:u,error:d,progress:n,completedQueries:f}=N(c==="MERCHANT"?"PENDING":"ALL"),s=i==null?void 0:i.pages.map(t=>t.content.filter(r=>c==="MERCHANT"?r.status==="PENDING":r.status!=="PICKED_UP"&&r.status!=="CANCELED")),l=s==null?void 0:s.flatMap(t=>t),{unacceptedListNumber:p}=E();return x||n<180?e.jsx("div",{className:"w-full flex justify-center mt-20",children:e.jsxs("div",{className:"w-3/5 flex flex-col justify-center items-center",children:[e.jsx(C,{value:n,className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Loading ",f," of ",p," ..."]})]})}):(l==null?void 0:l.length)===0?e.jsx("div",{className:"w-full flex justify-center mt-20",children:e.jsx("div",{className:"w-3/5 flex flex-col justify-center items-center",children:e.jsx("div",{className:"text-lg text-gray-500",children:"目前無未接訂單"})})}):u?e.jsxs("div",{className:"text-center pt-20",children:["Error: ",d.message]}):e.jsx("div",{className:"flex flex-col text-center justify-between ",children:s==null?void 0:s.map((t,r)=>t.map((o,m)=>c==="MERCHANT"?e.jsx(g,{order:o,pageId:r},m):e.jsx(h,{order:o},m)))})};export{D as default};

import{j as t,c as g}from"./index-CfmVgRZ1.js";import{u as C}from"./orderStore-CT2DlaFm.js";import{U as h,O as b,E as j}from"./EstimatedTime-CjhuKIpA.js";import{H as N}from"./Header-DvmskNhF.js";import{F as v,p as w}from"./index-9jCZmXH9.js";import{u as y}from"./useSystemContext-CWO-HUg9.js";import{u as E}from"./useCategoryQueries-BCXpiEeD.js";import{C as I}from"./CartItemCard-DKnrQU36.js";import"./useQueries-BDiXIL1c.js";import"./useMutation-surpPT6s.js";import"./blur-BAvl7f-d.js";const D=()=>{const e=C(s=>s.orderData),d={PENDING:{text:"未接單",bgColor:"bg-red-500"},PROCESSING:{text:"製作中",bgColor:"bg-blue-500"},COMPLETED:{text:"未取餐",bgColor:"bg-yellow-500"},PICKED_UP:{text:"已取餐",bgColor:"bg-green-500"},CANCELED:{text:"取消",bgColor:"bg-gray-300"}},a=s=>d[s]||{text:"default",bgColor:"bg-gray-200"},c=t.jsx("button",{className:`${a(e==null?void 0:e.status).bgColor} text-sm px-3 py-1 rounded-md text-white font-bold`,children:a(e==null?void 0:e.status).text}),{userInfo:i,merchantData:o,menuCategoryList:u}=y(),{categoryData:x}=E(u,o==null?void 0:o.menuId,i!==void 0),l=g(),f=()=>{l(-1)};if(e===null){l("/store/pos/management/order");return}const p=s=>{const m=x.flatMap(r=>r.dishes).find(r=>r.id===s);return m?m.picture:null};return t.jsxs("div",{className:"flex flex-col h-screen",children:[t.jsx("div",{className:"sticky mt-[54px] z-50 shadow-sm",children:t.jsx(N,{LeftIcon:t.jsx(v,{icon:w}),title:"單號 "+e.id.slice(-5),onLeftClick:f,rightComponents:[c]})}),t.jsxs("div",{className:"flex-1 overflow-auto pb-[48px]",children:[t.jsxs("div",{className:"bg-white text-black flex-1 p-4 overflow-auto",children:[t.jsx(h,{user:e,role:i.role}),t.jsx(b,{note:e.note}),e.orderedDishes.map((s,n)=>t.jsx(I,{dishData:s,imageUrl:p(s.dishId),showAdjustBtn:!1},n))]}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full",children:t.jsx(j,{value:e.estimatedPrepTime})})]})]})};D.propTypes={};export{D as default};

import{P as f,d as m,c as h,j as e,a as S,n as j,r as b,O as y}from"./index-Df6S3GLs.js";import{H as C}from"./Header-Dwd2uDhE.js";import{u as r}from"./sidebarStore-BEyA-UK1.js";import{u as p,S as i}from"./themeStore-CZOQeJl0.js";import{c as z,r as v,s as x,t as k,u as w,i as T,j as N,k as O,l as F}from"./index-BCnIIidU.js";const d=({merchantName:l})=>{const t=r(o=>o.isOpen),c=p(o=>o.themeMode),n=p(o=>o.toggleTheme),a=r(o=>o.closeSidebar),s=m(o=>o.setUser),u=h(),g=()=>{S.remove("authToken"),s(void 0),u("/auth/login"),a()};return e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:`fixed top-0 z-40 min-h-screen min-w-full transition-all duration-300  ${t?"bg-slate-950 bg-opacity-20":""}`,onClick:a}),e.jsxs("div",{className:`font-notoTC z-50 fixed inset-y-0 left-0 bg-white w-3/5 shadow-lg border-zinc-400 border-r-1 max-w-md ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 min-w-48`,children:[e.jsxs("div",{className:"p-4",children:[e.jsx(i,{text:l,setUser:l+" 主頁",textStyle:"text-2xl px-2",icon:z,iconSize:"2xl",iconColor:"#053766",style:"py-8",path:"/store/pos"}),e.jsx(i,{text:"主頁",icon:v,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos"}),e.jsx(i,{text:"訂單管理",icon:x,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/order"}),e.jsx(i,{text:"菜單管理",icon:x,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/menu"}),e.jsx(i,{text:"評論",icon:k,iconSize:"lg",iconColor:"#606162",style:"pt-8 pb-4 px-4"}),e.jsx(i,{text:"營業分析",icon:w,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/statistic"}),e.jsx(i,{text:"設定",icon:T,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/setting"})]}),e.jsxs("div",{className:"px-4 absolute bottom-0 left-0 right-2 flex justify-between",children:[e.jsx(i,{text:"登出",icon:N,iconSize:"lg",iconColor:"#606162",onClick:g}),e.jsx(i,{icon:c==="light"?O:F,text:"切換主題",textStyle:"w-0  invisible",iconSize:"lg",iconColor:c==="light"?"#606162":"#FFD43B",onClick:n})]})]})]})};d.propTypes={merchantName:f.string};function U(){const l=r(s=>s.toggleSidebar),t=r(s=>s.setTitle),c=r(s=>s.title),n=m(s=>s.user);console.debug("user",n),console.debug("storeId",n==null?void 0:n.storeId);const a=j();return b.useEffect(()=>{switch(!0){case a.pathname.includes("menu"):t("菜單管理");break;case a.pathname.includes("order"):t("訂單管理");break;case a.pathname.includes("setting"):t("設定");break;case a.pathname.includes("statistic"):t("營業分析");break;default:t("首頁")}},[t,a.pathname]),e.jsxs("div",{children:[e.jsx(C,{title:c,onLeftClick:l}),e.jsx(d,{merchantName:n.name}),e.jsx("div",{className:"relative top-20 flex flex-col items-center justify-center z-0"}),e.jsx(y,{})]})}export{U as default};

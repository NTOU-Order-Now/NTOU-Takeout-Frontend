import{d as p,P as x,e as h,c as f,u as k,j as e,a as b,t as S,r as C,O as N}from"./index-BYRL8AI_.js";import{H as w}from"./Header-HCAT_6j4.js";import{u as d}from"./sidebarStore-CgLDS7qs.js";import{u,S as r}from"./themeStore-U9MW8D-0.js";import{e as z,g as M,h as g,i as T,j as A,k as H,l as L}from"./index-9rfE7zmM.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=p("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=p("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=p("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=p("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=p("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),v=({merchantName:c})=>{const t=d(l=>l.isOpen);u(l=>l.themeMode),u(l=>l.toggleTheme);const n=d(l=>l.closeSidebar),i=h(l=>l.setUser),s=h(l=>l.user),o=f(),a=k(),m=()=>{b.remove("authToken"),a.invalidateQueries(["orders","ALL"]),a.invalidateQueries(["orders","PENDING"]),i(void 0),o("/auth/login"),n()};return e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:`fixed top-0 z-40 min-h-screen min-w-full transition-all duration-300  ${t?"bg-slate-950 bg-opacity-20":""}`,onClick:n}),e.jsxs("div",{className:`font-notoTC z-50 fixed inset-y-0 left-0 bg-white w-3/5 shadow-lg border-zinc-400 border-r-1 max-w-md ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 min-w-48`,children:[e.jsxs("div",{className:"p-4",children:[e.jsx(r,{text:c,setUser:c+" 主頁",textStyle:"text-2xl px-2",icon:z,iconSize:"2xl",iconColor:"#053766",style:"py-8",path:"/store/pos"}),e.jsx(r,{text:"主頁",icon:M,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos"}),e.jsx(r,{text:"訂單管理",icon:g,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/order"}),e.jsx(r,{text:"菜單管理",icon:g,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/menu"}),e.jsx(r,{text:"評論",icon:T,iconSize:"lg",iconColor:"#606162",style:"pt-8 pb-4 px-4",path:`/menu/${s==null?void 0:s.storeId}/review`}),e.jsx(r,{text:"營業分析",icon:A,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/statistic"}),e.jsx(r,{text:"設定",icon:H,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/setting"})]}),e.jsx("div",{className:"px-4 absolute bottom-8 left-0 right-2 flex justify-between",children:e.jsx(r,{text:"登出",icon:L,iconSize:"lg",iconColor:"#606162",onClick:m})})]})]})};v.propTypes={merchantName:x.string};const j=({merchantName:c="商家名稱",merchantId:t})=>{const n=f(),i=h(a=>a.setUser),s=d(a=>a.closeSidebar),o=[{icon:y,label:"訂單管理",path:"/store/pos/management/order",color:"bg-green-100"},{icon:y,label:"菜單管理",path:"/store/pos/management/menu",color:"bg-yellow-100"},{icon:q,label:"評論",path:`/menu/${t}/review`,color:"bg-purple-100"},{icon:O,label:"營業分析",path:"/store/pos/statistic",color:"bg-pink-100"},{icon:P,label:"設定",path:"/store/pos/setting",color:"bg-gray-100"},{icon:I,label:"登出",Click:()=>{b.remove("authToken"),i(void 0),n("/auth/login"),s()},color:"bg-red-100"}];return e.jsx("div",{className:"px-4 h-[calc(100vh-4rem)] min-w-full",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("header",{className:"flex items-center  bg-white rounded-xl p-6 mb-5",children:[e.jsx(V,{className:"w-8 h-8 text-blue-800 mr-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:c})]}),e.jsx("div",{className:"font-notoTC grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((a,m)=>e.jsxs("button",{onClick:()=>{a.Click?a.Click():n(a.path)},className:`${a.color} h-32 rounded-xl shadow-lg hover:shadow-md 
                transition-all duration-200 flex flex-col items-center justify-center gap-4
                hover:scale-105 group`,children:[e.jsx("div",{className:"bg-white p-4 rounded-full",children:e.jsx(a.icon,{className:"w-6 h-6 text-gray-700"})}),e.jsx("span",{className:"text-lg font-medium text-gray-800",children:a.label})]},m))})]})})};j.propTypes={merchantName:x.string.isRequired,merchantId:x.string.isRequired};function R(){const c=d(o=>o.toggleSidebar),t=d(o=>o.setTitle),n=d(o=>o.title),i=h(o=>o.user),s=S();return C.useEffect(()=>{switch(!0){case s.pathname.includes("menu"):t("菜單管理");break;case s.pathname.includes("order"):t("訂單管理");break;case s.pathname.includes("setting"):t("設定");break;case s.pathname.includes("statistic"):t("營業分析");break;default:t("首頁")}},[t,s.pathname]),e.jsxs("div",{className:"flex flex-col h-screen",children:[e.jsx(w,{title:n,onLeftClick:c}),e.jsx(v,{merchantName:i.name}),n==="首頁"?e.jsx("div",{className:"sticky top-[54px] mt-[54px] overflow-auto mt-18 z-0 h-[dvh-34px]",children:e.jsx(j,{merchantName:i.name,merchantId:i.storeId})}):e.jsx(e.Fragment,{}),e.jsx(N,{})]})}export{R as default};

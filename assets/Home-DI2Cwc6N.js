import{P as g,d as p,c as h,u as j,j as e,a as y,n as S,r as b,O as C}from"./index-CfmVgRZ1.js";import{H as v}from"./Header-DvmskNhF.js";import{u as n}from"./sidebarStore-PwwvNyQi.js";import{u as m,S as a}from"./themeStore-D7wzwimd.js";import{i as z,j as k,k as d,l as w,m as N,n as T,o as L}from"./index-9jCZmXH9.js";const u=({merchantName:r})=>{const s=n(t=>t.isOpen);m(t=>t.themeMode),m(t=>t.toggleTheme);const l=n(t=>t.closeSidebar),c=p(t=>t.setUser),o=p(t=>t.user),i=h(),x=j(),f=()=>{y.remove("authToken"),x.invalidateQueries(["orders","ALL"]),x.invalidateQueries(["orders","PENDING"]),c(void 0),i("/"),l()};return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:`fixed top-0 z-40 min-h-screen min-w-full transition-all duration-300  ${s?"bg-slate-950 bg-opacity-20":""}`,onClick:l}),e.jsxs("div",{className:`font-notoTC z-50 fixed inset-y-0 left-0 bg-white w-3/5 shadow-lg border-zinc-400 border-r-1 max-w-md ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 min-w-48`,children:[e.jsxs("div",{className:"p-4",children:[e.jsx(a,{text:r,setUser:r+" 主頁",textStyle:"text-2xl px-2",icon:z,iconSize:"2xl",iconColor:"#053766",style:"py-8",path:"/store/pos"}),e.jsx(a,{text:"主頁",icon:k,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos"}),e.jsx(a,{text:"訂單管理",icon:d,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/order"}),e.jsx(a,{text:"菜單管理",icon:d,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/menu"}),e.jsx(a,{text:"評論",icon:w,iconSize:"lg",iconColor:"#606162",style:"pt-8 pb-4 px-4",path:`/menu/${o==null?void 0:o.storeId}/review`}),e.jsx(a,{text:"營業分析",icon:N,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/statistic"}),e.jsx(a,{text:"設定",icon:T,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/setting"})]}),e.jsx("div",{className:"px-4 absolute bottom-8 left-0 right-2 flex justify-between",children:e.jsx(a,{text:"登出",icon:L,iconSize:"lg",iconColor:"#606162",onClick:f})})]})]})};u.propTypes={merchantName:g.string};function Q(){const r=n(i=>i.toggleSidebar),s=n(i=>i.setTitle),l=n(i=>i.title),c=p(i=>i.user),o=S();return b.useEffect(()=>{switch(!0){case o.pathname.includes("menu"):s("菜單管理");break;case o.pathname.includes("order"):s("訂單管理");break;case o.pathname.includes("setting"):s("設定");break;case o.pathname.includes("statistic"):s("營業分析");break;default:s("首頁")}},[s,o.pathname]),e.jsxs("div",{children:[e.jsx(v,{title:l,onLeftClick:r}),e.jsx(u,{merchantName:c.name}),e.jsx("div",{className:"relative top-20 flex flex-col items-center justify-center z-0"}),e.jsx(C,{})]})}export{Q as default};

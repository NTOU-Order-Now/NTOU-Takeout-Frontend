import{j as e,c as p}from"./index-CZV2z4L2.js";import{u as C}from"./orderStore-C6dmvOAT.js";import{U as h,O as b,E as j}from"./EstimatedTime-CN7WdgUb.js";import{H as N}from"./Header-GQ3LpFEU.js";import{F as v,u as w}from"./index-wPuIc0We.js";import{u as y}from"./useSystemContext-CREwBBG8.js";import{u as E}from"./useCategoryQueries-C24iVXcW.js";import{C as I}from"./CartItemCard-BWDKuOJy.js";import"./useQueries-CKIx5xFo.js";import"./useMutation-CzB-mLXn.js";import"./blur-BFT-82LJ.js";const D=()=>{const t=C(s=>s.orderData),m={PENDING:{text:"未接單",bgColor:"bg-red-500"},PROCESSING:{text:"製作中",bgColor:"bg-blue-500"},COMPLETED:{text:"未取餐",bgColor:"bg-yellow-500"},PICKED_UP:{text:"已取餐",bgColor:"bg-green-500"},CANCELED:{text:"取消",bgColor:"bg-gray-300"}},a=s=>m[s]||{text:"default",bgColor:"bg-gray-200"},d=e.jsx("button",{className:`${a(t==null?void 0:t.status).bgColor} text-sm px-3 py-1 rounded-md text-white font-bold`,children:a(t==null?void 0:t.status).text}),{userInfo:c,merchantData:o,menuCategoryList:u}=y(),{categoryData:x}=E(u,o==null?void 0:o.menuId,c!==void 0),i=p(),f=()=>{i(-1)};if(t===null){i("/store/pos/management/order");return}const g=s=>{const n=x.flatMap(r=>r.dishes).find(r=>r.id===s);return n?n.picture:null};return e.jsxs("div",{className:"flex flex-col h-screen",children:[e.jsx("div",{className:"sticky mt-[54px] z-50 shadow-sm",children:e.jsx(N,{LeftIcon:e.jsx(v,{icon:w}),title:"單號 "+t.id.slice(-5),onLeftClick:f,rightComponents:[d]})}),e.jsxs("div",{className:"flex-1 overflow-auto pb-[48px]",children:[e.jsxs("div",{className:"bg-white text-black flex-1 p-4 overflow-auto",children:[e.jsx(h,{user:t}),e.jsx(b,{note:t.note}),t.orderedDishes.map((s,l)=>e.jsx(I,{dishData:s,imageUrl:g(s.dishId),showAdjustBtn:!1},l))]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full",children:e.jsx(j,{value:t.estimatedPrepTime})})]})]})};D.propTypes={};export{D as default};

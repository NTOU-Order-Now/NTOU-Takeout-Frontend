import{j as e}from"./index-CzSfmOcl.js";import p from"./OrderCard-QiCOUUwv.js";import{u as j,o as N,P as g,a as E}from"./AcceptedList-SWep-wCV.js";import{u as h}from"./useSystemContext-BanMn82W.js";import"./orderStore-BMJ-ZdZZ.js";import"./useMutation-CZ1Qi4ay.js";import"./useQueries-CgXJHdrG.js";const D=()=>{const{userInfo:r}=h(),a=r==null?void 0:r.role,{orders:i,isLoading:o,isError:x,error:u,progress:c,completedQueries:d}=j(a==="MERCHANT"?"PENDING":"ALL"),t=i==null?void 0:i.pages.map(l=>l.content.filter(s=>a==="MERCHANT"?s.status==="PENDING":s.status!=="PICKED_UP"&&s.status!=="CANCELED")),{unacceptedListNumber:f}=N();return o||c<180?e.jsx("div",{className:"w-full flex justify-center mt-20",children:e.jsxs("div",{className:"w-3/5 flex flex-col justify-center items-center",children:[e.jsx(g,{value:c,className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Loading ",d," of ",f," ..."]})]})}):t[0].length===0?e.jsx("div",{className:"w-full flex justify-center mt-20",children:e.jsx("div",{className:"w-3/5 flex flex-col justify-center items-center",children:e.jsx("div",{className:"text-lg text-gray-500",children:"目前無未接訂單"})})}):x?e.jsxs("div",{className:"text-center pt-20",children:["Error: ",u.message]}):e.jsx("div",{className:"flex flex-col text-center justify-between ",children:t==null?void 0:t.map((l,s)=>l.map((n,m)=>a==="MERCHANT"?e.jsx(p,{order:n,pageId:s},m):e.jsx(E,{order:n},m)))})};export{D as default};

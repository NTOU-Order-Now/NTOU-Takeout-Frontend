import{P as f,g as m,c as h,j as e,i as S,K as j,N as x,O as y,Q as b,o as C,p as z,q as v,s as w,a as T,R as k,r as N,S as O}from"./index-CFrlWo3n.js";import{H as F}from"./Header-CdveAT2q.js";import{u as a}from"./sidebarStore-JTAWPSbi.js";import{u as p,S as s}from"./themeStore-CdZO5mPO.js";const d=({merchantName:r})=>{const i=a(o=>o.isOpen),l=p(o=>o.themeMode),c=p(o=>o.toggleTheme),n=a(o=>o.closeSidebar),t=m(o=>o.setUser),g=h(),u=()=>{T.remove("authToken"),t(void 0),g("/auth/login"),n()};return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:`fixed top-0 z-40 min-h-screen min-w-full transition-all duration-300  ${i?"bg-slate-950 bg-opacity-20":""}`,onClick:n}),e.jsxs("div",{className:`font-notoTC z-50 fixed inset-y-0 left-0 bg-white w-3/5 shadow-lg border-zinc-400 border-r-1 max-w-md ${i?"translate-x-0":"-translate-x-full"} transition-transform duration-300 min-w-48`,children:[e.jsxs("div",{className:"p-4",children:[e.jsx(s,{text:r,setUser:r+" 主頁",textStyle:"text-2xl px-2",icon:S,iconSize:"2xl",iconColor:"#053766",style:"py-8",path:"/store/pos"}),e.jsx(s,{text:"主頁",icon:j,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos"}),e.jsx(s,{text:"訂單管理",icon:x,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/order"}),e.jsx(s,{text:"菜單管理",icon:x,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/menu"}),e.jsx(s,{text:"評論",icon:y,iconSize:"lg",iconColor:"#606162",style:"pt-8 pb-4 px-4"}),e.jsx(s,{text:"營業分析",icon:b,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4"}),e.jsx(s,{text:"設定",icon:C,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4"})]}),e.jsxs("div",{className:"px-4 absolute bottom-0 left-0 right-2 flex justify-between",children:[e.jsx(s,{text:"登出",icon:z,iconSize:"lg",iconColor:"#606162",onClick:u}),e.jsx(s,{icon:l==="light"?v:w,text:"切換主題",textStyle:"w-0  invisible",iconSize:"lg",iconColor:l==="light"?"#606162":"#FFD43B",onClick:c})]})]})]})};d.propTypes={merchantName:f.string};function U(){const r=a(t=>t.toggleSidebar),i=a(t=>t.setTitle),l=a(t=>t.title),c=m(t=>t.user),n=k();return N.useEffect(()=>{switch(!0){case n.pathname.includes("menu"):i("菜單管理");break;case n.pathname.includes("order"):i("訂單管理");break;default:i("首頁")}},[i,n.pathname]),e.jsxs("div",{children:[e.jsx(F,{title:l,onLeftClick:r}),e.jsx(d,{merchantName:c.name}),e.jsx(O,{})]})}export{U as default};

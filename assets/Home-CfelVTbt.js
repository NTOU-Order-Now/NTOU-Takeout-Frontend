import{P as g,d as h,c as f,u as k,j as e,a as y,n as S,r as C,O as N}from"./index-Y_Wg8SMc.js";import{H as w}from"./Header-BucSMTrV.js";import{u as c}from"./sidebarStore-f-F0hQFW.js";import{u as m,S as l}from"./themeStore-D2kiathn.js";import{i as z,j as M,k as x,l as T,m as A,n as H,o as L}from"./index-SQZRpR2P.js";import{c as d}from"./createLucideIcon-CxWDZwce.js";const b=({merchantName:r})=>{const t=c(o=>o.isOpen);m(o=>o.themeMode),m(o=>o.toggleTheme);const n=c(o=>o.closeSidebar),i=h(o=>o.setUser),s=h(o=>o.user),a=f(),p=k(),j=()=>{y.remove("authToken"),p.invalidateQueries(["orders","ALL"]),p.invalidateQueries(["orders","PENDING"]),i(void 0),a("/auth/login"),n()};return e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:`fixed top-0 z-40 min-h-screen min-w-full transition-all duration-300  ${t?"bg-slate-950 bg-opacity-20":""}`,onClick:n}),e.jsxs("div",{className:`font-notoTC z-50 fixed inset-y-0 left-0 bg-white w-3/5 shadow-lg border-zinc-400 border-r-1 max-w-md ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 min-w-48`,children:[e.jsxs("div",{className:"p-4",children:[e.jsx(l,{text:r,setUser:r+" 主頁",textStyle:"text-2xl px-2",icon:z,iconSize:"2xl",iconColor:"#053766",style:"py-8",path:"/store/pos"}),e.jsx(l,{text:"主頁",icon:M,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos"}),e.jsx(l,{text:"訂單管理",icon:x,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/order"}),e.jsx(l,{text:"菜單管理",icon:x,iconSize:"lg",iconColor:"#053766",style:"px-4 py-4",path:"/store/pos/management/menu"}),e.jsx(l,{text:"評論",icon:T,iconSize:"lg",iconColor:"#606162",style:"pt-8 pb-4 px-4",path:`/menu/${s==null?void 0:s.storeId}/review`}),e.jsx(l,{text:"營業分析",icon:A,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/statistic"}),e.jsx(l,{text:"設定",icon:H,iconSize:"lg",iconColor:"#606162",style:"px-4 py-4",path:"/store/pos/setting"})]}),e.jsx("div",{className:"px-4 absolute bottom-8 left-0 right-2 flex justify-between",children:e.jsx(l,{text:"登出",icon:L,iconSize:"lg",iconColor:"#606162",onClick:j})})]})]})};b.propTypes={merchantName:g.string};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=d("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=d("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=d("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=d("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=d("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=d("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),v=({merchantName:r="商家名稱"})=>{const t=f(),n=h(a=>a.setUser),i=c(a=>a.closeSidebar),s=[{icon:u,label:"訂單管理",path:"/store/pos/management/order",color:"bg-green-100"},{icon:u,label:"菜單管理",path:"/store/pos/management/menu",color:"bg-yellow-100"},{icon:V,label:"評論",path:"/menu/review",color:"bg-purple-100"},{icon:O,label:"營業分析",path:"/store/pos/statistic",color:"bg-pink-100"},{icon:q,label:"設定",path:"/store/pos/setting",color:"bg-gray-100"},{icon:P,label:"登出",Click:()=>{y.remove("authToken"),n(void 0),t("/auth/login"),i()},color:"bg-red-100"}];return e.jsx("div",{className:"px-4 h-[calc(100vh-4rem)] min-w-full",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("header",{className:"flex items-center  bg-white rounded-xl p-6 mb-5",children:[e.jsx(F,{className:"w-8 h-8 text-blue-800 mr-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r})]}),e.jsx("div",{className:"font-notoTC grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((a,p)=>e.jsxs("button",{onClick:()=>{a.Click?a.Click():t(a.path)},className:`${a.color} h-32 rounded-xl shadow-lg hover:shadow-md 
                transition-all duration-200 flex flex-col items-center justify-center gap-4
                hover:scale-105 group`,children:[e.jsx("div",{className:"bg-white p-4 rounded-full",children:e.jsx(a.icon,{className:"w-6 h-6 text-gray-700"})}),e.jsx("span",{className:"text-lg font-medium text-gray-800",children:a.label})]},p))})]})})};v.propTypes={merchantName:g.string.isRequired};function R(){const r=c(a=>a.toggleSidebar),t=c(a=>a.setTitle),n=c(a=>a.title),i=h(a=>a.user),s=S();return C.useEffect(()=>{switch(!0){case s.pathname.includes("menu"):t("菜單管理");break;case s.pathname.includes("order"):t("訂單管理");break;case s.pathname.includes("setting"):t("設定");break;case s.pathname.includes("statistic"):t("營業分析");break;default:t("首頁")}},[t,s.pathname]),e.jsxs("div",{className:"flex flex-col h-screen",children:[e.jsx(w,{title:n,onLeftClick:r}),e.jsx(b,{merchantName:i.name}),n==="首頁"?e.jsx("div",{className:"sticky top-[54px] mt-[54px] overflow-auto mt-18 z-0 h-[dvh-34px]",children:e.jsx(v,{merchantName:i.name})}):e.jsx(e.Fragment,{}),e.jsx(N,{})]})}export{R as default};
